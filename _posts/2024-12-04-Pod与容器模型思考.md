---
title: Pod与容器中的业务模型思考
categories: [ 编程, 设计模式 ]
tags: [ system design ]
---

K8s的最小编排单位是Pod而非容器，在K8s的早期项目Borg项目中开发和实践过程中，谷歌的开发人员发现部署的
应用往往存在着类似与“线程和线程组”的关系，线程组之间可以共享文件、信号、数据内存等，这些关系密切的应用需要
部署到同一台机器上，如果没有“组”的概念，运维起来将会很麻烦。

这种“组”的模型最简单的案例就是文件和文件夹，文件夹中可以放入多个文件，甚至是嵌套文件夹；

而在业务模型上， 也有“包”的概念，比如：发货包、商品包。这样在业务流程中，“包”下的所有可被同一个流程共同管理和编排。
比如用户在商城购买多件商品，需要同时发货，如果每件商品单独管理，则每个商品都需要填写地址、收件人、手机号，
但通过商品包来将商品成组发货，流程上只需要对这个商品包进行地址、收件人、手机号的填写，因为这些商品**共享**这些信息。
但如果一个商品包中的商品不能共享信息，还需要拆包的动作，流程的复杂度陡然提升。

